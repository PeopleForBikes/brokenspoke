<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="utf-8">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="preload" as="font" href="https://peopleforbikes.github.io/brokenspoke/fonts/vendor/jost/jost-v4-latin-regular.woff2" type="font/woff2" crossorigin>
  <link rel="preload" as="font" href="https://peopleforbikes.github.io/brokenspoke/fonts/vendor/jost/jost-v4-latin-700.woff2"  type="font/woff2" crossorigin>


<link rel="stylesheet" href="https://peopleforbikes.github.io/brokenspoke/main.css">



  
  
    
  

  
  
    
    
  
  
  
    
  
  
  
  
    
  
  
  


  <meta name="robots" content="index, follow">
  <meta name="googlebot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
  <meta name="bingbot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">


	


	

<title>Brochures | Broken Spoke</title>
<meta name="description" content="All you want to know about the Broken Spoke projects">
<link rel="canonical" href="https://peopleforbikes.github.io/brokenspoke/docs/pipelines/brochures/">










<script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "BreadcrumbList",
    
      
      
        
        
        
        
        
        
        
        
          {
            "@type": "ListItem",
            "position":  1 ,
            "name": "Home",
            "item": "https://peopleforbikes.github.io/brokenspoke/"
          },
          
          
          {
            "@type": "ListItem",
            "position":  2 ,
            "name": "Docs",
            "item": "https://peopleforbikes.github.io/brokenspoke/docs/"
          },
        
      
        
        
        
        
        
        
        
        
          
          
          {
            "@type": "ListItem",
            "position":  3 ,
            "name": "Pipelines",
            "item": "https://peopleforbikes.github.io/brokenspoke/docs/pipelines/"
          },
        
      
        
        
        
        
        
        
        
        
          
          
          {
            "@type": "ListItem",
            "position":  4 ,
            "name": "Brochures",
            "item": "https://peopleforbikes.github.io/brokenspoke/docs/pipelines/brochures/"
          },
        
      
    
  }
</script>






  <meta name="theme-color" content="#fff">
  <link rel="apple-touch-icon" sizes="180x180" href="https://peopleforbikes.github.io/brokenspoke/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="https://peopleforbikes.github.io/brokenspoke/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="https://peopleforbikes.github.io/brokenspoke/favicon-16x16.png">
  
    <link rel="manifest" href="https://peopleforbikes.github.io/brokenspoke/site.webmanifest" crossorigin>
  


  

</head>

  

<body class="docs single">
  
  
  
  
<div class="header-bar fixed-top"></div>
<header class="navbar fixed-top navbar-expand-md navbar-light">
	<div class="container">
		<input class="menu-btn order-0" type="checkbox" id="menu-btn">
		<label class="menu-icon d-md-none" for="menu-btn"><span class="navicon"></span></label>
		<a class="navbar-brand order-1 order-md-0 me-auto" href="https://peopleforbikes.github.io/brokenspoke">Broken Spoke</a>
		<button id="mode" class="btn btn-link order-2 order-md-4" type="button" aria-label="Toggle mode">
			<span class="toggle-dark"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg></span>
			<span class="toggle-light"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg></span>
		</button>
		<ul class="navbar-nav fork-me order-3 order-md-5">
			
				
					<li class="nav-item">
						<a class="nav-link" href="https://github.com/PeopleForBikes/brokenspoke"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg><span class="ms-2 visually-hidden">GitHub</span></a>
					</li>
				
			
		</ul>
		<div class="collapse navbar-collapse order-4 order-md-1">
			<ul class="navbar-nav main-nav me-auto order-5 order-md-2">
				
					
				
				
				
					
						<li class="nav-item docs active">
							<a class="nav-link" href="https://peopleforbikes.github.io/brokenspoke/docs/overview/overview/">Docs</a>
						</li>
					
				
			</ul>
			<div class="break order-6 d-md-none"></div>
			
				<form class="navbar-form flex-grow-1 order-7 order-md-3">
					<input id="userinput" class="form-control is-search" type="search" placeholder="Search docs..."
						aria-label="Search docs..." autocomplete="off">
					<div id="suggestions" class="shadow bg-white rounded"></div>
				</form>
			
		</div>
	</div>
</header>



  
<div class="wrap container" role="document">
  <div class="content">
    <div class="row flex-xl-nowrap">
	  
<div class="col-lg-5 col-xl-4 docs-sidebar">
	<nav class="docs-links" aria-label="Main navigation">
			
			
			
					<h3>Docs</h3>
					<ul class="list-unstyled">
					                           
							<li><a class="docs-link" href="https://peopleforbikes.github.io/brokenspoke/docs/code-of-conduct/"></a></li>
					
					</ul>
			
			
					
					
					
							<h3>General</h3>
							<ul class="list-unstyled">
							                           
									<li><a class="docs-link" href="https://peopleforbikes.github.io/brokenspoke/docs/overview/overview/">Overview</a></li>
							                           
									<li><a class="docs-link" href="https://peopleforbikes.github.io/brokenspoke/docs/overview/developer-setup/">Developer Setup</a></li>
							
					</ul>
					
					
					
					
							<h3>Pipelines</h3>
							<ul class="list-unstyled">
							                           
									<li><a class="docs-link active" href="https://peopleforbikes.github.io/brokenspoke/docs/pipelines/brochures/">Brochures</a></li>
							
					</ul>
					
					
			
	</nav>
</div>

	  
  
  <nav class="docs-toc d-none d-xl-block col-xl-3" aria-label="Secondary navigation">
  	<div class="page-links">
  			<h3>On this page</h3>
  			<nav id="TableOfContents">
  					<ul>
  							
  							<li><a href="https://peopleforbikes.github.io/brokenspoke/docs/pipelines/brochures/#how-it-works">How it works</a></li>
  							
  							
  							<li><a href="https://peopleforbikes.github.io/brokenspoke/docs/pipelines/brochures/#rendering">Rendering</a></li>
  							
  							
  							<li><a href="https://peopleforbikes.github.io/brokenspoke/docs/pipelines/brochures/#run-it-locally">Run it locally</a></li>
  							
  									<ul>
  											
  											<li><a href="https://peopleforbikes.github.io/brokenspoke/docs/pipelines/brochures/#requirements">Requirements</a></li>
  											
  											<li><a href="https://peopleforbikes.github.io/brokenspoke/docs/pipelines/brochures/#run-it">Run it</a></li>
  											
  									</ul>
  							
  							
  					</ul>
  			</nav>
  	</div>
  </nav>
  

      <main class="docs-content col-lg-11 col-xl-9">
        <h1>Brochures</h1>
        
        <p>The brochure pipelines generates City Ratings brochures based off the City
Ratings Results.</p>
<h2 id="how-it-works">How it works</h2>
<p>The pipeline starts by converting the original city ratings file, to the
shortcode version. Basically, that just means converting the headers to a 2-5
letter code. For instance &quot;opportunity&quot; becomes &quot;op&quot;.</p>
<p>The next step is to perform a data-merge operation between the shortcode file
which was just created and the brochure template. This step will generate one
SVG file per city. At this point the SVG itself is completely distributable if
only an image is needed.</p>
<p>To make it more portable, the following step will convert all the SVG files into
PDF.</p>
<p>Finally we add extra pages to the brochure. Typically the extra pages contain
instructions to help cities to implement better policies and safer street
designs.</p>
<p><img src="../../../images/pipelines/brochures/brochure_etl.png"
alt="Brochure Pipeline" width="100%"></p>
<h2 id="rendering">Rendering</h2>
<p>Here is an example of the SVG file being generated at the beginning of the
process.</p>
<p><img src="../../../images/pipelines/brochures/united_states-tx-austin.svg"
alt="Brochure Rendering For Austin, TX" width="60%"
style="display: block;margin: 0 auto;"></p>
<h2 id="run-it-locally">Run it locally</h2>
<h3 id="requirements">Requirements</h3>
<ul>
<li><a href="https://www.rust-lang.org/tools/install">Rust</a></li>
<li><a href="https://inkscape.org/release/">Inkscape</a></li>
<li><a href="https://fonts.google.com/specimen/Montserrat">Montserrat Font</a></li>
<li>Dharma Gothic Extended Font</li>
</ul>
<h3 id="run-it">Run it</h3>
<p>This pipeline was written in Rust and can be run locally with the following
commands:</p>
<pre data-lang="bash" style="background-color:#2b303b;color:#c0c5ce;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#96b5b4;">cd</span><span> pipelines/brochures
</span><span style="color:#bf616a;">cargo</span><span> run
</span></code></pre>

        
        
<div class="docs-navigation d-flex justify-content-between">
  
  
  
  
  
    
    
    
    
      
        
        
          
        
      
        
        
          
            
              
              <a href="https:&#x2F;&#x2F;peopleforbikes.github.io&#x2F;brokenspoke&#x2F;docs&#x2F;overview&#x2F;developer-setup&#x2F;">
                <div class="card my-1">
                  <div class="card-body py-2">
                    &larr; Developer Setup
                  </div>
                </div>
              </a>
            
            
            
          
        
      
    
  

  
  
  
  
  
    
    
    
      
      
        
      
    
      
      
        
      
    
  
</div>

      </main>
    </div>
  </div>
</div>


  
    
<footer class="footer text-muted">
	<div class="container">
		<div class="row">
			<div class="col-lg-8 order-last order-lg-first">
				<ul class="list-inline">
					
						<li class="list-inline-item">Powered by <a href="https://www.getzola.org/">Zola</a>, and <a href="https://github.com/aaranxu/adidoks">AdiDoks</a></li>
					
				</ul>
			</div>
			<div class="col-lg-8 order-first order-lg-last text-lg-end">
				<ul class="list-inline">
					
						
							<li class="list-inline-item"><a href="https://peopleforbikes.github.io/brokenspoke/docs/code-of-conduct/">Code of Conduct</a></li>
						
					
				</ul>
			</div>
		</div>
	</div>
</footer>

  

  
<script type="text/javascript" src="https://peopleforbikes.github.io/brokenspoke/js/main.js" defer></script>

  <script type="text/javascript" src="https://peopleforbikes.github.io/brokenspoke/plugins/elasticlunr.min.js" defer></script>
  <script type="text/javascript" src="https://peopleforbikes.github.io/brokenspoke/search_index.en.js" defer></script>
  <script type="text/javascript" src="https://peopleforbikes.github.io/brokenspoke/js/search.js" defer></script>

  
</body>
</html>
